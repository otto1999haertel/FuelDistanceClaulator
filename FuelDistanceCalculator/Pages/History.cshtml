@page "/history"
@model HistoryModel

<h3>Gespeicherte Berechnungen</h3>
<div class="container">
    <form method="post">
        <!-- Button für Historie Löschen -->
        <button type="submit" class="btn btn-primary mx-2" style="width: 240px" name="action" value="@ActionType.DeleteHistory.ToString()">
            Historie Löschen
        </button>
        
        <!-- Button für CSV Export -->
        <button type="submit" class="btn btn-secondary mx-2" style="width: 240px" 
        name="action" value="@ActionType.ExportCSV.ToString()"
        @(Model.IsCsvExportImportEnabled ? "" : "disabled")>
            CSV Export
        </button>

        <!-- Button für CSV Import -->
        <button type="submit" class="btn btn-secondary mx-2" style="width: 240px" 
        name="action" value="@ActionType.ImportCSV.ToString()"
        @(Model.IsCsvExportImportEnabled ? "" : "disabled")>
        CSV Import
        </button>

    </form>
</div>

<br>
<table class="table" id="fuelTable">
    <thead>
        <tr>
            <th>Datum</th>
            <th>Tankstelle 1</th>
            <th>Spritpreis TS 1</th>
            <th>Tankstelle 2</th>
            <th>Spritpreis TS 2</th>
            <th>Spritart</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.HistoryItems)
        {
            <tr>
                <td>@item.Date.ToString("dd.MM.yyyy HH:mm")</td>
                <td>@item.GasStation1</td>
                <td>@item.FuelPrice1.ToString("F2")</td>
                <td>@item.GasStation2</td>
                <td>@item.FuelPrice2.ToString("F2")</td>
                <td>@item.FuelType</td>
            </tr>
        }
    </tbody>
</table>


<!-- Dark Mode Script einfügen -->
@* <script src="~/js/darkmode.js"></script> *@
